<nb-card>
  <nb-card-header>
    Nome: {{ user.name }}
  </nb-card-header>
  <nb-card-body>
    <form [formGroup]="formUpdatePermission" (ngSubmit)="onSubmit()">
      <div formArrayName="resource_permissions">
        <div *ngFor="let resource of resources; let i=index">
          <nb-accordion>
            <nb-accordion-item>
              <nb-accordion-item-header class="uppercase">
                {{ resource.name }}
              </nb-accordion-item-header>
              <nb-accordion-item-body formGroupName="{{i}}">
                <nb-list>
                  <nb-list-item>
                    <nb-checkbox formControlName="view">Visualizar</nb-checkbox>
                  </nb-list-item>
                  <nb-list-item>
                    <nb-checkbox formControlName="create">Criar</nb-checkbox>
                  </nb-list-item>
                  <nb-list-item>
                    <nb-checkbox formControlName="update">Atualizar</nb-checkbox>
                  </nb-list-item>
                  <nb-list-item>
                    <nb-checkbox formControlName="delete">Apagar</nb-checkbox>
                  </nb-list-item>
                </nb-list>
              </nb-accordion-item-body>
            </nb-accordion-item>
          </nb-accordion>
        </div>
      </div>
      <br>
      <button nbButton status="primary" (click)="close()">Cancelar</button>
      <button nbButton status="success" type="submit">Enviar</button>
    </form>
  </nb-card-body>
</nb-card>
